@import '../../styl/component-include.styl'

.b-poll-result

  &.ph-block
    
    &.ph-block--animated
      
      .ph-content
        position static
        width auto
        opacity 1
        
      .ph
        position absolute
        top 0
        left 0
        width 100%
        opacity 0
        z-index -1
    
.b-poll-result

  &__item
    display none

    &.active
      display block

  .b-num-block
    display block

  &-ill
    background-repeat no-repeat
    background-position center
    background-size cover
    height 500px
    border-radius 10px

    @media( max-width 767px )
      height 200px

  &__questions

    &__item

      h3
        margin-top 0

    &__header
      width calc(100% - 158px * 2 - 30px)
      flex-shrink 0

      @media( max-width 767px )
        width 100%

  &__answers

    &__item 
      display flex
      justify-content space-between
      align-items center
      margin-bottom 14px

  &__answer-title
    overflow hidden
    text-overflow ellipsis
    white-space nowrap
    line-height 19px
    height 19px
    width calc( (100% - 30px) / 12 * 6.5 )
    flex-shrink 0

  &__answer-graph
    width calc( (100% - 30px) / 12 * 5 )

  table.table
    font-family $roboto

    th,
    td
      font-size $14px
      text-align center
      vertical-align middle
      border-top none
      border-bottom 1px solid $line-color
      cursor pointer

      &.asc,
      &.desc
        background-color #f2e4d866

    th
      padding-right 35px
      padding-left 35px

      &:first-child
        padding-left 1.5rem
        text-align left

      &.asc,
      &.desc
        color $secondary-color-2
        position relative

        &:before
          content ''
          width 17px
          height 17px
          border-radius 51%
          position absolute
          top 50%
          right 15px
          margin-top -8px
          background-color #EA5E21
          z-index 1

        &:after
          content ''
          width 5px
          height 5px
          border-right 1px solid #fff
          border-bottom 1px solid #fff
          transform( rotate( 45deg ))
          position absolute
          top 50%
          right 21px
          margin-top -3px
          z-index 2

      &.asc

        &:after
          transform( rotate( -135deg ))
          margin-top -1px

    td

      &.normal
        color $secondary-color-2

      &:first-child
        text-align left
        
      &:last-child
        padding-right 20px
        white-space nowrap

    tbody

      tr
        transition-fn( background-color .5s ease )
      
        &:hover
          background-color #fcfcfc

.b-graph

  &__wrapper
    width 0
    display flex
    align-items center
    transition-fn( width 1s cubic-bezier(0, 0.55, 0.45, 1))
    min-width calc(19px + 22px + 15px)

  &__img
    width 100%
    min-width 5px
    height 24px
    background transparent linear-gradient(270deg, #F2762E 0%, #F1944B 100%) 0% 0% no-repeat padding-box
    border-radius 12px

  &__counts
    width 100%
    min-width 5px
    height 24px
    display flex

    span
      color #fff
      font-size 12px
      display inline-flex
      align-items center
      justify-content center
      border-radius 12px
      position relative
      height 24px
      min-width 19px

      &:first-child
        background transparent linear-gradient(270deg, #F2762E 0%, #F1944B 100%) 0% 0% no-repeat padding-box
        z-index 2

      &:nth-child(2)
        background transparent linear-gradient(270deg, #0038B5 0%, #006CFF 100%) 0% 0% no-repeat padding-box
        margin-left -18px
        padding-left 18px
        min-width calc(19px + 18px)
        z-index 1

  &__num
    font-size $24px
    font-weight bold
    font-family $roboto
    white-space nowrap
    margin-left 22px
    line-height normal

.b-poll-result-screen

  .b-switch-button
    display none

  .b-poll-result__answers__item
    justify-content flex-start
    margin-bottom 25px

  .b-poll-result__questions__header
    width 100%
    margin-bottom 60px

  .b-poll-result__answer-title
    width calc((100% - 30px) / 12 * 3)
    font-size $24px
    font-weight $bold
    font-family $roboto
    margin-right 10px
    height auto
    line-height normal

    span
      display none

    @media(max-width 767px)
      width calc((100% - 30px) / 12 * 6.5)